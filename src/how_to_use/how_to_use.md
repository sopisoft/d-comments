# 「d-anime comments viewer」のつかいかた

d-anime comments viewer は、ドコモアニメストアの映像作品視聴ページでコメントを表示するための拡張機能です。

このページでは、この拡張機能の使用方法について説明します。また、このページは利用規約やプライバシーポリシーとしても機能しますので、ご一読ください。

## はじめに

本ソフトウェアの使用は、この「つかいかた」に記載された方法に限ります。

本ソフトウェアの使用により、「つかいかた」の内容に同意したものとみなします。

## 目次

<!-- ここに目次が生成される -->

## 視聴を開始する

ドコモアニメストアの任意のアニメ作品ページにアクセスして作品の視聴を開始します。
![再生ボタンが追加された作品ページ](/img/menu.jpg)

## ポップアップページについて

### ポップアップページの操作

1. ドコモアニメストアで作品の視聴を開始します。

   拡張機能のポップアップページを開けるよう拡張機能が追加した再生ボタンから視聴を開始することをオススメします。

2. 再生ページで再生が開始されたら、拡張機能のポップアップページを開きます。

   ポップアップページは拡張機能のアイコンをクリックすると開きます。

   アイコンが表示されていないときはブラウザの設定をご確認ください。
   ![拡張機能のポップアップページが開かれた様子](/img/popup.jpg)

3. ニコニコ動画の動画検索が自動で始まります。（設定で無効にできます。）

   動画検索には[ニコニコ動画 『スナップショット検索API v2』](https://site.nicovideo.jp/search-api-docs/snapshot) を使用しています。

   **動画検索の際に、[API利用規約](https://site.nicovideo.jp/search-api-docs/snapshot)の禁止事項に該当する行為をしてはいけません。**

   動画検索に失敗する場合は、動画検索を中止し、ご連絡ください。

4. 動画リストからコメントを表示したい動画選択します。
5. 動画 ID 欄に選択したニコニコ動画の動画 ID が入力されます。（手動でも入力できます。）

### コメントの表示

1. ポップアップページの動画 ID 欄に指定の動画 ID が入力されていることを確認します。
2. 動画 ID 欄すぐ横の「表示」ボタンをクリックするとコメントが表示されます。
   ![コメントが表示された様子](/img/comments.jpg)

### コメントの保存

<!-- コメントを保存し、また、保存したコメントを読み込むことができます。 -->
コメントを保存できます。

#### コメントのダウンロード

1. 動画 ID 欄に指定の動画 ID が入力されていることを確認します。
2. 「保存」ボタンをクリックするとコメントのダウンロードが開始されます。
3. コメントをダウンロードして保存してください。

#### 保存したコメントの表示

<!-- ポップアップページの「コメントファイルの読み込み」で、保存したコメントのファイルを選択すると保存したコメントが表示されます。 -->
現在、保存したコメントの表示機能はありません。

## 設定について

### コメントの表示方法

設定「コメントの表示方法」で選択できます。

#### リスト表示

設定「コメントの表示方法」で「リスト表示」を選択すると、コメントはリスト形式で表示されます。

#### ニコニコ動画風

設定「コメントの表示方法」で「ニコニコ動画風」を選択すると、作品視聴ページの動画上に重ねてコメントを右から左へ動かしながら表示します。

### コメントの種類

投稿者コメント、通常コメント、[かんたんコメント](https://dic.nicovideo.jp/a/かんたんコメント) をそれぞれ表示するか選択できます。

### ニコニコ動画へのログイン

設定「ニコニコ動画へのログインを許可する」を有効にすると、この拡張機能は、コメントの取得に際してニコニコ動画の動画の情報を取得するとき、[ニコニコ動画](https://www.nicovideo.jp)の[クッキー](https://www.soumu.go.jp/main_sosiki/joho_tsusin/security_previous/yougo/eiji.htm#cookie)の値を取得します。

設定「ニコニコ動画へのログインを許可する」はデフォルトで無効です。

取得するクッキーの情報

| 名前         | Domain        | HttpOnly | Secure |
| ------------ | ------------- | -------- | ------ |
| user_session | .nicovideo.jp | true     | true   |

取得するクッキーにこの拡張機能の開発者・その他の第三者が個人を特定できる情報は含まれていません。

設定「ニコニコ動画へのログインを許可する」を有効であり、かつニコニコ動画の動画の情報を取得するとき、この拡張機能はクッキーの値を '<https://www.nicovideo.jp/api/watch/v3/>' 以下に送信します。

この拡張機能は、ドメインが `nicovideo.jp` でないアドレス先に取得したクッキーの値を送信することはありません。
また、取得したクッキーの情報は、この拡張機能に保存されません。

また、設定を有効にするときは[ニコニコ規約](https://account.nicovideo.jp/rules/account)もご確認ください。

この拡張機能によって、ニコニコ動画のアカウントやそれに関連するものに何らかの損害が生じても、この拡張機能の開発者は一切責任を負わないものとします。

## 最後に

### この拡張機能について

この拡張機能のソースコードは [GitHub のリポジトリ](https://github.com/gobosan/d-comments) で公開されています。
ライセンスは [GPL-3.0 license](https://github.com/gobosan/d-comments/blob/master/LICENSE.txt) です。

### 機能リクエストやバグ報告について

[Microsoft Forms](https://forms.office.com/r/JR9KksWHJD) で受け付けています。
機能リクエストやバグ報告ができます。

GitHub のアカウントをお持ちの方は [GitHub Repository](https://github.com/sopisoft/d-comments) で Issue を立ててください。

ぜひ拡張機能のストアページでもレビューをお願いします。開発のモチベーションが上がります。
