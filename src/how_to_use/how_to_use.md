# 「d-anime comments viewer」のつかいかた

d-anime comments viewer は、dアニメストアの映像作品視聴ページでコメントを表示するための拡張機能です。

このページでは、この拡張機能の使用方法について説明します。また、このページは利用規約やプライバシーポリシーとしても機能しますので、ご一読ください。

## はじめに

本ソフトウェアの使用は、この「つかいかた」に記載された方法に限ります。

本ソフトウェアの使用により、「つかいかた」の内容に同意したものとみなします。

## 視聴を開始する

dアニメストアの任意のアニメ作品ページにアクセスして作品の視聴を開始します。
![再生ボタンが追加された作品ページ](/img/menu.jpg)

## ポップアップページについて

### ポップアップページの操作

1. dアニメストアで作品の視聴を開始します。

   拡張機能のポップアップページを開けるように、『作品ページに「新しいタブで再生」「現在のタブで再生」ボタンを追加する』もしくは、『作品の視聴を開始するときに新しいウィンドウが作成されるのを防ぐ』を有効にすることをお勧めします。

2. 再生ページで再生が開始されたら、拡張機能のポップアップページを開きます。

   ポップアップページは拡張機能のアイコンをクリックすると開きます。

   アイコンが表示されていないときはブラウザの設定をご確認ください。
   ![拡張機能のポップアップページが開かれた様子](/img/popup.png)

3. 動画を検索します。

   動画検索には[ニコニコ動画 『スナップショット検索API v2』](https://site.nicovideo.jp/search-api-docs/snapshot) を使用しています。

   **動画検索の際に、[API利用規約](https://site.nicovideo.jp/search-api-docs/snapshot)の禁止事項に該当する行為をしてはいけません。**

   動画検索に失敗する場合は、動画検索を中止し、ご連絡ください。

4. 動画リストからコメントを表示したい動画を選択し、クリックします。

5. 動画 ID 欄に選択したニコニコ動画の動画 ID が入力されます。動画 ID は手動でも入力できます。

### コメントの表示

1. ポップアップページの動画 ID 欄に動画 ID が入力されていることを確認します。

2. 動画 ID 欄すぐ横の「表示」ボタンをクリックするとコメントが表示されます。
   ![コメントが表示された様子](/img/comments.jpg)

## 設定について

### 基本設定

### 自動で動画検索/再生を開始する

作品の視聴を開始するときに、自動で動画検索を開始するか選択できます。

設定「連続再生時に自動で次の動画のコメントを読み込む」とは独立して動作します。

### 連続再生時に自動で次の動画のコメントを読み込む

連続再生時に、自動で次の動画のコメントを読み込むか選択できます。

設定「自動で動画検索/再生を開始する」とは独立して動作します。

### コメントをチャンネルからのみ取得

設定「コメントをチャンネルからのみ取得」を有効にすると、自動でコメントを取得するとき、チャンネルからのコメントのみを取得します。

###  みため / スタイル

#### コメントの表示方法

設定「コメントの表示方法」で選択できます。

##### リスト表示

設定「コメントの表示方法」で「リスト表示」を選択すると、コメントはリスト形式で表示されます。

##### ニコニコ動画風

設定「コメントの表示方法」で「ニコニコ動画風」を選択すると、作品視聴ページの動画上に重ねてコメントを右から左へ動かしながら表示します。

### コメントの種類

投稿者コメント、通常コメント、[かんたんコメント](https://dic.nicovideo.jp/a/かんたんコメント) をそれぞれ表示するか選択できます。

### NG 設定

#### NG ワード

設定「NG ワード」に NG ワードを入力すると、その NG ワードを含むコメントは表示されません。NG ワードの指定には正規表現が使用できます。

#### NG ユーザー

設定「NG ユーザー」に NG ユーザーのユーザー ID を入力すると、指定されたユーザーのコメントは表示されません。

###  アドオン / べんり機能

#### 作品ページに「新しいタブで再生」「現在のタブで再生」ボタンを追加する

作品ページに「新しいタブで再生」もしくは「現在のタブで再生」ボタンを追加します。

設定「新しいウィンドウを作らない設定が有効のとき、同じタブで再生する」で「新しいタブで再生」と「現在のタブで再生」を切り替えることができます。

#### 作品の視聴を開始するときに新しいウィンドウが作成されるのを防ぐ

作品ページのそれぞれのパートのサムネイル、もしくはタイトルがクリックされたとき、「 詳しく見る」を開かずに再生を開始します。

再生を開始するときに新しいウィンドウが作成されるのを防ぐことができます。

設定「新しいウィンドウを作らない設定が有効のとき、同じタブで再生する」で新規タブで再生するか、既存のタブで再生するかを切り替えることができます。

## 最後に

### この拡張機能について

この拡張機能のソースコードは [GitHub のリポジトリ](https://github.com/gobosan/d-comments) で公開されています。
ライセンスは [GPL-3.0 license](https://github.com/gobosan/d-comments/blob/master/LICENSE.txt) です。

### 機能リクエストやバグ報告について

[Microsoft Forms](https://forms.office.com/r/JR9KksWHJD) で受け付けています。
機能リクエストやバグ報告ができます。

GitHub のアカウントをお持ちの方は [GitHub Repository](https://github.com/sopisoft/d-comments) で Issue を立ててください。

ぜひ拡張機能のストアページでもレビューをお願いします。開発のモチベーションが上がります。
